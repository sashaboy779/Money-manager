2020-09-18T14:56:58.3169836+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-09-18T14:56:58.3300990+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-09-18T14:56:58.3326271+03:00  [INF] Content root path: "C:\Users\sasha\Desktop\q\new\MoneyManager\MoneyManagerApi" (b5d60022)
2020-09-18T14:56:58.3887378+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44314/accounts/register application/json 10 (ca22a1cb)
2020-09-18T14:56:58.7415045+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)"' (500cc934)
2020-09-18T14:56:58.8210047+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Register\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(MoneyManagerApi.Models.UserModels.RegisterUserModel)" on controller "MoneyManagerApi.Controllers.AccountsController" ("MoneyManagerApi"). (122b2fdf)
2020-09-18T14:57:00.2347043+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.1.6" initialized '"SqliteDataContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "using lazy-loading proxies " (9958f5bb)
2020-09-18T14:57:00.7193490+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T14:57:00.7341399+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T14:57:00.7773668+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";" (0723d8ff)
2020-09-18T14:57:00.8035850+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Applying migration '"20200917075241_Data"'. (0e2ac64d)
2020-09-18T14:57:00.8765205+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Users\" (
    \"UserId\" INTEGER NOT NULL CONSTRAINT \"PK_Users\" PRIMARY KEY AUTOINCREMENT,
    \"FirstName\" TEXT NULL,
    \"LastName\" TEXT NULL,
    \"Username\" TEXT NULL,
    \"PasswordHash\" BLOB NULL,
    \"PasswordSalt\" BLOB NULL
);" (0723d8ff)
2020-09-18T14:57:00.8822136+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Category\" (
    \"CategoryId\" INTEGER NOT NULL CONSTRAINT \"PK_Category\" PRIMARY KEY AUTOINCREMENT,
    \"Name\" TEXT NULL,
    \"Discriminator\" TEXT NOT NULL,
    \"UserId\" INTEGER NULL,
    \"ParentId\" INTEGER NULL,
    CONSTRAINT \"FK_Category_Users_UserId\" FOREIGN KEY (\"UserId\") REFERENCES \"Users\" (\"UserId\") ON DELETE CASCADE,
    CONSTRAINT \"FK_Category_Category_ParentId\" FOREIGN KEY (\"ParentId\") REFERENCES \"Category\" (\"CategoryId\") ON DELETE CASCADE
);" (0723d8ff)
2020-09-18T14:57:00.8850927+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Wallets\" (
    \"WalletId\" INTEGER NOT NULL CONSTRAINT \"PK_Wallets\" PRIMARY KEY AUTOINCREMENT,
    \"Name\" TEXT NULL,
    \"Currency\" INTEGER NOT NULL,
    \"Balance\" TEXT NOT NULL,
    \"UserId\" INTEGER NOT NULL,
    CONSTRAINT \"FK_Wallets_Users_UserId\" FOREIGN KEY (\"UserId\") REFERENCES \"Users\" (\"UserId\") ON DELETE CASCADE
);" (0723d8ff)
2020-09-18T14:57:00.8879010+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Operations\" (
    \"OperationId\" INTEGER NOT NULL CONSTRAINT \"PK_Operations\" PRIMARY KEY AUTOINCREMENT,
    \"OperationDate\" TEXT NOT NULL,
    \"Amount\" TEXT NOT NULL,
    \"Note\" TEXT NULL,
    \"CurrentBalance\" TEXT NOT NULL,
    \"WalletId\" INTEGER NOT NULL,
    \"CategoryId\" INTEGER NOT NULL,
    CONSTRAINT \"FK_Operations_Category_CategoryId\" FOREIGN KEY (\"CategoryId\") REFERENCES \"Category\" (\"CategoryId\") ON DELETE CASCADE,
    CONSTRAINT \"FK_Operations_Wallets_WalletId\" FOREIGN KEY (\"WalletId\") REFERENCES \"Wallets\" (\"WalletId\") ON DELETE CASCADE
);" (0723d8ff)
2020-09-18T14:57:00.8908660+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Category_UserId\" ON \"Category\" (\"UserId\");" (0723d8ff)
2020-09-18T14:57:00.8942570+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Category_ParentId\" ON \"Category\" (\"ParentId\");" (0723d8ff)
2020-09-18T14:57:00.8994738+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Operations_CategoryId\" ON \"Operations\" (\"CategoryId\");" (0723d8ff)
2020-09-18T14:57:00.9018469+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Operations_WalletId\" ON \"Operations\" (\"WalletId\");" (0723d8ff)
2020-09-18T14:57:00.9042484+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Wallets_UserId\" ON \"Wallets\" (\"UserId\");" (0723d8ff)
2020-09-18T14:57:00.9066391+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"__EFMigrationsHistory\" (\"MigrationId\", \"ProductVersion\")
VALUES ('20200917075241_Data', '3.1.6');" (0723d8ff)
2020-09-18T14:57:01.1504506+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'. (8a1b66c8)
2020-09-18T14:57:01.2554819+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed action "MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)" in 2423.0484ms (afa2e885)
2020-09-18T14:57:01.2583714+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)"' (99874f2b)
2020-09-18T14:57:01.2667729+03:00 80000007-0001-fe00-b63f-84710c7967bb [INF] Request finished in 2881.9692ms 400 application/problem+json; charset=utf-8 (791a596a)
2020-09-18T14:57:42.6599724+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44314/accounts/register application/json 158 (ca22a1cb)
2020-09-18T14:57:42.7106742+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)"' (500cc934)
2020-09-18T14:57:42.7142432+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Register\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(MoneyManagerApi.Models.UserModels.RegisterUserModel)" on controller "MoneyManagerApi.Controllers.AccountsController" ("MoneyManagerApi"). (122b2fdf)
2020-09-18T14:57:42.7354503+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.1.6" initialized '"SqliteDataContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "using lazy-loading proxies " (9958f5bb)
2020-09-18T14:57:42.7449772+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T14:57:42.7563558+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T14:57:42.7705081+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";" (0723d8ff)
2020-09-18T14:57:42.7847219+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] No migrations were applied. The database is already up to date. (503cba9d)
2020-09-18T14:57:42.9280954+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Executing action method "MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)" - Validation state: Valid (dad538d7)
2020-09-18T14:57:43.0499384+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Executed action "MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)" in 333.1381ms (afa2e885)
2020-09-18T14:57:43.0553043+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)"' (99874f2b)
2020-09-18T14:57:43.1661346+03:00 80000008-0001-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> UserDto
System.Object -> BusinessLogicLayer.Dto.UserDtos.UserDto
   at lambda_method(Closure , Object , UserDto , ResolutionContext )
   at MoneyManagerApi.Controllers.AccountsController.RegisterAsync(RegisterUserModel model) in C:\Users\sasha\Desktop\q\new\MoneyManager\MoneyManagerApi\Controllers\AccountsController.cs:line 62
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-09-18T14:57:43.1767209+03:00 80000008-0001-fe00-b63f-84710c7967bb [FTL] Something went wrong: AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> UserDto
System.Object -> BusinessLogicLayer.Dto.UserDtos.UserDto
   at lambda_method(Closure , Object , UserDto , ResolutionContext )
   at MoneyManagerApi.Controllers.AccountsController.RegisterAsync(RegisterUserModel model) in C:\Users\sasha\Desktop\q\new\MoneyManager\MoneyManagerApi\Controllers\AccountsController.cs:line 62
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task) (e86b4bc5)
2020-09-18T14:57:43.1992126+03:00 80000008-0001-fe00-b63f-84710c7967bb [INF] Request finished in 540.5407ms 500 application/json (791a596a)
2020-09-18T15:00:53.1089551+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-09-18T15:00:53.1168652+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-09-18T15:00:53.1170490+03:00  [INF] Content root path: "C:\Users\sasha\Desktop\q\new\MoneyManager\MoneyManagerApi" (b5d60022)
2020-09-18T15:00:53.1275549+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44314/accounts/signin application/json 62 (ca22a1cb)
2020-09-18T15:00:53.1868693+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"MoneyManagerApi.Controllers.AccountsController.AuthenticateAsync (MoneyManagerApi)"' (500cc934)
2020-09-18T15:00:53.2285258+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Authenticate\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthenticateAsync(MoneyManagerApi.Models.UserModels.AuthenticateModel)" on controller "MoneyManagerApi.Controllers.AccountsController" ("MoneyManagerApi"). (122b2fdf)
2020-09-18T15:00:53.9678316+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.1.6" initialized '"SqliteDataContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "using lazy-loading proxies " (9958f5bb)
2020-09-18T15:00:54.0956998+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T15:00:54.1096693+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T15:00:54.1310495+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";" (0723d8ff)
2020-09-18T15:00:54.1557580+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] No migrations were applied. The database is already up to date. (503cba9d)
2020-09-18T15:00:54.7199547+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 7)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"u\".\"UserId\", \"u\".\"FirstName\", \"u\".\"LastName\", \"u\".\"PasswordHash\", \"u\".\"PasswordSalt\", \"u\".\"Username\"
FROM \"Users\" AS \"u\"
WHERE \"u\".\"Username\" = @__username_0
LIMIT 2" (0723d8ff)
2020-09-18T15:00:54.7321495+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"MoneyManagerApi.Models.Errors"'. (8a1b66c8)
2020-09-18T15:00:54.7905077+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Executed action "MoneyManagerApi.Controllers.AccountsController.AuthenticateAsync (MoneyManagerApi)" in 1552.2795ms (afa2e885)
2020-09-18T15:00:54.7911508+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"MoneyManagerApi.Controllers.AccountsController.AuthenticateAsync (MoneyManagerApi)"' (99874f2b)
2020-09-18T15:00:54.7954412+03:00 80000010-0000-fe00-b63f-84710c7967bb [INF] Request finished in 1671.8065ms 400 application/json; charset=utf-8 (791a596a)
2020-09-18T15:01:01.4527820+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44314/accounts/register application/json 158 (ca22a1cb)
2020-09-18T15:01:01.4560441+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Executing endpoint '"MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)"' (500cc934)
2020-09-18T15:01:01.4607234+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Register\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(MoneyManagerApi.Models.UserModels.RegisterUserModel)" on controller "MoneyManagerApi.Controllers.AccountsController" ("MoneyManagerApi"). (122b2fdf)
2020-09-18T15:01:01.4630008+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Entity Framework Core "3.1.6" initialized '"SqliteDataContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "using lazy-loading proxies " (9958f5bb)
2020-09-18T15:01:01.4713020+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T15:01:01.4760852+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T15:01:01.4877657+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";" (0723d8ff)
2020-09-18T15:01:01.4899846+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] No migrations were applied. The database is already up to date. (503cba9d)
2020-09-18T15:01:01.5320417+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Username_0='?' (Size = 7)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"u\".\"UserId\", \"u\".\"FirstName\", \"u\".\"LastName\", \"u\".\"PasswordHash\", \"u\".\"PasswordSalt\", \"u\".\"Username\"
FROM \"Users\" AS \"u\"
WHERE \"u\".\"Username\" = @__user_Username_0
LIMIT 2" (0723d8ff)
2020-09-18T15:01:01.5510939+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Executed action "MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)" in 90.1458ms (afa2e885)
2020-09-18T15:01:01.5519622+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Executed endpoint '"MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)"' (99874f2b)
2020-09-18T15:01:01.6029536+03:00 80000011-0000-fe00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> User
System.Object -> DataAccessLayer.Entities.User
   at lambda_method(Closure , Object , User , ResolutionContext )
   at BusinessLogicLayer.Services.UserService.CreateAsync(UserDto user, String password) in C:\Users\sasha\Desktop\q\new\MoneyManager\BusinessLogicLayer\Services\UserService.cs:line 59
   at MoneyManagerApi.Controllers.AccountsController.RegisterAsync(RegisterUserModel model) in C:\Users\sasha\Desktop\q\new\MoneyManager\MoneyManagerApi\Controllers\AccountsController.cs:line 70
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2020-09-18T15:01:01.6073347+03:00 80000011-0000-fe00-b63f-84710c7967bb [FTL] Something went wrong: AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> User
System.Object -> DataAccessLayer.Entities.User
   at lambda_method(Closure , Object , User , ResolutionContext )
   at BusinessLogicLayer.Services.UserService.CreateAsync(UserDto user, String password) in C:\Users\sasha\Desktop\q\new\MoneyManager\BusinessLogicLayer\Services\UserService.cs:line 59
   at MoneyManagerApi.Controllers.AccountsController.RegisterAsync(RegisterUserModel model) in C:\Users\sasha\Desktop\q\new\MoneyManager\MoneyManagerApi\Controllers\AccountsController.cs:line 70
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task) (853e0c6d)
2020-09-18T15:01:01.6214257+03:00 80000011-0000-fe00-b63f-84710c7967bb [INF] Request finished in 169.1981ms 500 application/json (791a596a)
2020-09-18T15:04:33.4290497+03:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2020-09-18T15:04:33.4356514+03:00  [INF] Hosting environment: "Development" (c3307c92)
2020-09-18T15:04:33.4357643+03:00  [INF] Content root path: "C:\Users\sasha\Desktop\q\new\MoneyManager\MoneyManagerApi" (b5d60022)
2020-09-18T15:04:33.4462589+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44314/accounts/register application/json 158 (ca22a1cb)
2020-09-18T15:04:33.5068349+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)"' (500cc934)
2020-09-18T15:04:33.5485654+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Register\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(MoneyManagerApi.Models.UserModels.RegisterUserModel)" on controller "MoneyManagerApi.Controllers.AccountsController" ("MoneyManagerApi"). (122b2fdf)
2020-09-18T15:04:34.2654701+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.1.6" initialized '"SqliteDataContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "using lazy-loading proxies " (9958f5bb)
2020-09-18T15:04:34.3937199+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T15:04:34.4036892+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T15:04:34.4278261+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";" (0723d8ff)
2020-09-18T15:04:34.4480559+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] No migrations were applied. The database is already up to date. (503cba9d)
2020-09-18T15:04:35.0482578+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Username_0='?' (Size = 7)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"u\".\"UserId\", \"u\".\"FirstName\", \"u\".\"LastName\", \"u\".\"PasswordHash\", \"u\".\"PasswordSalt\", \"u\".\"Username\"
FROM \"Users\" AS \"u\"
WHERE \"u\".\"Username\" = @__user_Username_0
LIMIT 2" (0723d8ff)
2020-09-18T15:04:35.2297444+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 6), @p1='?' (Size = 9), @p2='?' (Size = 64), @p3='?' (Size = 128), @p4='?' (Size = 7)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Users\" (\"FirstName\", \"LastName\", \"PasswordHash\", \"PasswordSalt\", \"Username\")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT \"UserId\"
FROM \"Users\"
WHERE changes() = 1 AND \"rowid\" = last_insert_rowid();" (0723d8ff)
2020-09-18T15:04:35.2828988+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"MoneyManagerApi.Models.UserModels.User"'. (8a1b66c8)
2020-09-18T15:04:35.3350136+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Executed action "MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)" in 1779.3811ms (afa2e885)
2020-09-18T15:04:35.3354853+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"MoneyManagerApi.Controllers.AccountsController.RegisterAsync (MoneyManagerApi)"' (99874f2b)
2020-09-18T15:04:35.3402970+03:00 80000006-0003-fd00-b63f-84710c7967bb [INF] Request finished in 1897.2616ms 201 application/json; charset=utf-8 (791a596a)
2020-09-18T15:04:38.8438845+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/1.1 POST https://localhost:44314/accounts/signin application/json 62 (ca22a1cb)
2020-09-18T15:04:38.8473240+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Executing endpoint '"MoneyManagerApi.Controllers.AccountsController.AuthenticateAsync (MoneyManagerApi)"' (500cc934)
2020-09-18T15:04:38.8523072+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"Authenticate\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthenticateAsync(MoneyManagerApi.Models.UserModels.AuthenticateModel)" on controller "MoneyManagerApi.Controllers.AccountsController" ("MoneyManagerApi"). (122b2fdf)
2020-09-18T15:04:38.8562908+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Entity Framework Core "3.1.6" initialized '"SqliteDataContext"' using provider '"Microsoft.EntityFrameworkCore.Sqlite"' with options: "using lazy-loading proxies " (9958f5bb)
2020-09-18T15:04:38.8611590+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T15:04:38.8657296+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"name\" = '__EFMigrationsHistory' AND \"type\" = 'table';" (0723d8ff)
2020-09-18T15:04:38.8749117+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";" (0723d8ff)
2020-09-18T15:04:38.8773365+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] No migrations were applied. The database is already up to date. (503cba9d)
2020-09-18T15:04:38.8955390+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__username_0='?' (Size = 7)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"u\".\"UserId\", \"u\".\"FirstName\", \"u\".\"LastName\", \"u\".\"PasswordHash\", \"u\".\"PasswordSalt\", \"u\".\"Username\"
FROM \"Users\" AS \"u\"
WHERE \"u\".\"Username\" = @__username_0
LIMIT 2" (0723d8ff)
2020-09-18T15:04:39.0667408+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2020-09-18T15:04:39.0738751+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Executed action "MoneyManagerApi.Controllers.AccountsController.AuthenticateAsync (MoneyManagerApi)" in 221.4129ms (afa2e885)
2020-09-18T15:04:39.0739922+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Executed endpoint '"MoneyManagerApi.Controllers.AccountsController.AuthenticateAsync (MoneyManagerApi)"' (99874f2b)
2020-09-18T15:04:39.0742474+03:00 80000007-0003-fd00-b63f-84710c7967bb [INF] Request finished in 231.5363ms 200 application/json; charset=utf-8 (791a596a)
